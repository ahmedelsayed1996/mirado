"use client"
import Image from "next/image";
import Link from "next/link";
import { useState } from "react";
import useCurrentLang from "../_hooks/useCurrentLang";
import Countdown from "./Countdown";

export default function Navbar() {
    const [showLanguage, setShowLanguage] = useState<boolean>(false);
    const language = useCurrentLang();


    const handleClickLang = () => {
        setShowLanguage(!showLanguage);
    };


    return (
        <>


            <nav className=" flex justify-between items-center px-2 lg:px-6 xl:px-28 py-2 w-full h-12 bg-slate-100 top-[bar] max-md:py-2  max-sm:py-2 z-20 gap-1 ">
                <div className="flex gap-0.5  items-center">
                    <Link href={"#"} className="flex justify-center items-center  w-4 md:w-7 h-8  rounded">
                        {/* <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21.6 0H2.4C1.08 0 0.012 1.35 0.012 3L0 21C0 22.65 1.08 24 2.4 24H21.6C22.92 24 24 22.65 24 21V3C24 1.35 22.92 0 21.6 0ZM21.6 6L12 13.5L2.4 6V3L12 10.5L21.6 3V6Z" fill="#365D8D" />
                        </svg> */}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.62 10.7496C17.19 10.7496 16.85 10.3996 16.85 9.97961C16.85 9.60961 16.48 8.83961 15.86 8.16961C15.25 7.51961 14.58 7.13961 14.02 7.13961C13.59 7.13961 13.25 6.78961 13.25 6.36961C13.25 5.94961 13.6 5.59961 14.02 5.59961C15.02 5.59961 16.07 6.13961 16.99 7.10961C17.85 8.01961 18.4 9.14961 18.4 9.96961C18.4 10.3996 18.05 10.7496 17.62 10.7496Z" fill="#365D8D" />
                            <path d="M21.2317 10.75C20.8017 10.75 20.4617 10.4 20.4617 9.98C20.4617 6.43 17.5717 3.55 14.0317 3.55C13.6017 3.55 13.2617 3.2 13.2617 2.78C13.2617 2.36 13.6017 2 14.0217 2C18.4217 2 22.0017 5.58 22.0017 9.98C22.0017 10.4 21.6517 10.75 21.2317 10.75Z" fill="#365D8D" />
                            <path d="M11.05 14.95L9.2 16.8C8.81 17.19 8.19 17.19 7.79 16.81C7.68 16.7 7.57 16.6 7.46 16.49C6.43 15.45 5.5 14.36 4.67 13.22C3.85 12.08 3.19 10.94 2.71 9.81C2.24 8.67 2 7.58 2 6.54C2 5.86 2.12 5.21 2.36 4.61C2.6 4 2.98 3.44 3.51 2.94C4.15 2.31 4.85 2 5.59 2C5.87 2 6.15 2.06 6.4 2.18C6.66 2.3 6.89 2.48 7.07 2.74L9.39 6.01C9.57 6.26 9.7 6.49 9.79 6.71C9.88 6.92 9.93 7.13 9.93 7.32C9.93 7.56 9.86 7.8 9.72 8.03C9.59 8.26 9.4 8.5 9.16 8.74L8.4 9.53C8.29 9.64 8.24 9.77 8.24 9.93C8.24 10.01 8.25 10.08 8.27 10.16C8.3 10.24 8.33 10.3 8.35 10.36C8.53 10.69 8.84 11.12 9.28 11.64C9.73 12.16 10.21 12.69 10.73 13.22C10.83 13.32 10.94 13.42 11.04 13.52C11.44 13.91 11.45 14.55 11.05 14.95Z" fill="#365D8D" />
                            <path d="M21.9716 18.33C21.9716 18.61 21.9216 18.9 21.8216 19.18C21.7916 19.26 21.7616 19.34 21.7216 19.42C21.5516 19.78 21.3316 20.12 21.0416 20.44C20.5516 20.98 20.0116 21.37 19.4016 21.62C19.3916 21.62 19.3816 21.63 19.3716 21.63C18.7816 21.87 18.1416 22 17.4516 22C16.4316 22 15.3416 21.76 14.1916 21.27C13.0416 20.78 11.8916 20.12 10.7516 19.29C10.3616 19 9.97156 18.71 9.60156 18.4L12.8716 15.13C13.1516 15.34 13.4016 15.5 13.6116 15.61C13.6616 15.63 13.7216 15.66 13.7916 15.69C13.8716 15.72 13.9516 15.73 14.0416 15.73C14.2116 15.73 14.3416 15.67 14.4516 15.56L15.2116 14.81C15.4616 14.56 15.7016 14.37 15.9316 14.25C16.1616 14.11 16.3916 14.04 16.6416 14.04C16.8316 14.04 17.0316 14.08 17.2516 14.17C17.4716 14.26 17.7016 14.39 17.9516 14.56L21.2616 16.91C21.5216 17.09 21.7016 17.3 21.8116 17.55C21.9116 17.8 21.9716 18.05 21.9716 18.33Z" fill="#365D8D" />
                        </svg>

                    </Link>

                    <a
                        href="tel:+447575879770"
                        className="text-base font-medium text-zinc-900 max-sm:text-sm text-nowrap"
                    >
                        {/* {language === "en" ? "+44 7575 879770" : "+44 7575 879770"} */}
                        +44 7575 879770
                    </a>

                </div>
                <div className="flex items-center">
                    <div className="flex gap-0.5 md:gap-2 md:pe-8 border-e border-white">
                        <Link href="https://www.facebook.com/eduxa.study/" className="flex justify-center items-center  w-5 md:w-7 h-8  rounded">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_625_10353)">
                                    <path d="M16 0C7.164 0 0 7.164 0 16C0 24.836 7.164 32 16 32C24.836 32 32 24.836 32 16C32 7.162 24.836 0 16 0ZM20.136 15.998L17.514 16L17.512 25.6H13.914V16H11.514V12.692L13.914 12.69L13.91 10.742C13.91 8.042 14.642 6.4 17.82 6.4H20.468V9.71H18.812C17.574 9.71 17.514 10.172 17.514 11.034L17.51 12.69H20.486L20.136 15.998Z" fill="#365D8D" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_625_10353">
                                        <rect width="32" height="32" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </Link>
                        <Link href="https://www.linkedin.com/company/eduxa/" className="flex justify-center items-center  w-5 md:w-7 h-8  rounded">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 0C7.16333 0 0 7.16333 0 16C0 24.8367 7.16333 32 16 32C24.8367 32 32 24.8367 32 16C32 7.16333 24.8367 0 16 0ZM12.0833 22.6317H8.84333V12.205H12.0833V22.6317ZM10.4433 10.925C9.42 10.925 8.75833 10.2 8.75833 9.30333C8.75833 8.38833 9.44 7.685 10.485 7.685C11.53 7.685 12.17 8.38833 12.19 9.30333C12.19 10.2 11.53 10.925 10.4433 10.925ZM23.9167 22.6317H20.6767V16.8533C20.6767 15.5083 20.2067 14.595 19.035 14.595C18.14 14.595 17.6083 15.2133 17.3733 15.8083C17.2867 16.02 17.265 16.32 17.265 16.6183V22.63H14.0233V15.53C14.0233 14.2283 13.9817 13.14 13.9383 12.2033H16.7533L16.9017 13.6517H16.9667C17.3933 12.9717 18.4383 11.9683 20.1867 11.9683C22.3183 11.9683 23.9167 13.3967 23.9167 16.4667V22.6317Z" fill="#365D8D" />
                            </svg>
                        </Link>
                        <Link href="https://x.com/eduxaedu" className="flex justify-center items-center  w-5 md:w-7 h-8  rounded">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="32" height="32" rx="16" fill="#365D8D" />
                                <path d="M23.4934 23.5H18.6647L15.0415 18.1048L10.5026 23.5H8.5L14.1522 16.7847L8.58564 8.5H13.4144L16.8399 13.5988L21.1285 8.5H23.1311L17.7292 14.9189L23.5 23.5H23.4934ZM18.9809 22.8871H22.3603L16.9717 14.8718L21.8267 9.09946H21.3986L16.7806 14.5889L13.0916 9.09946H9.71212L14.9032 16.8184L9.79776 22.8871H10.226L15.0942 17.1013L18.9809 22.8871ZM21.8333 22.6042H19.2378L10.226 9.4295H12.8215L21.8333 22.6042ZM19.5474 21.998H20.6871L12.5119 10.0424H11.3722L19.5474 21.998Z" fill="white" />
                            </svg>
                        </Link>
                        <Link href="https://www.instagram.com/eduxa.study/" className="flex justify-center items-center  w-5 md:w-7 h-8  rounded">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_625_10366)">
                                    <path d="M32 16C32 16.4322 31.9834 16.8561 31.9418 17.28C31.6343 21.1699 29.9138 24.6857 27.3039 27.3039C24.4031 30.2047 20.4052 32 16 32C14.8114 32 13.6561 31.867 12.5506 31.6177C11.7694 31.4514 11.0213 31.227 10.2899 30.9444C4.28883 28.6338 0 22.7906 0 16C0 11.6031 1.80364 7.59688 4.6961 4.6961C7.59688 1.79532 11.5948 0 16 0C20.4052 0 24.4031 1.79532 27.3039 4.6961C29.1158 6.51636 30.5039 8.76883 31.2852 11.279C31.626 12.3844 31.8504 13.5314 31.9418 14.72C31.9501 14.8031 31.9584 14.8945 31.9584 14.9777C31.9917 15.3184 32 15.6509 32 16Z" fill="#365D8D" />
                                    <path d="M32.0001 16.0006C32.0001 16.4328 31.9834 16.8567 31.9419 17.2806C31.6344 21.1704 29.9138 24.6863 27.304 27.3045C24.4032 30.2052 20.4053 32.0006 16.0001 32.0006C14.8115 32.0006 13.6562 31.8676 12.5507 31.6182L6.74084 25.5341L13.8806 17.2473L6.8489 7.01562H12.9414L18.1611 12.2686L22.6744 7.01562H25.2011L31.6925 13.9642C31.7923 14.2967 31.8837 14.6374 31.9585 14.9782C31.9918 15.319 32.0001 15.6515 32.0001 16.0006Z" fill="#365D8D" />
                                    <g clipPath="url(#clip1_625_10366)">
                                        <path d="M12.9206 16.2755C12.9206 14.5721 14.3011 13.1908 16.0046 13.1908C17.708 13.1908 19.0892 14.5721 19.0892 16.2755C19.0892 17.9789 17.708 19.3602 16.0046 19.3602C14.3011 19.3602 12.9206 17.9789 12.9206 16.2755ZM11.2531 16.2755C11.2531 18.8998 13.3803 21.027 16.0046 21.027C18.6288 21.027 20.756 18.8998 20.756 16.2755C20.756 13.6512 18.6288 11.524 16.0046 11.524C13.3803 11.524 11.2531 13.6512 11.2531 16.2755ZM19.8337 11.3356C19.8337 11.9485 20.3307 12.4463 20.9444 12.4463C21.5573 12.4463 22.0551 11.9485 22.0551 11.3356C22.0551 10.7227 21.558 10.2257 20.9444 10.2257C20.3307 10.2257 19.8337 10.7227 19.8337 11.3356ZM12.2658 23.8075C11.3637 23.7664 10.8734 23.6161 10.5475 23.4891C10.1155 23.3209 9.80751 23.1206 9.48312 22.7969C9.15948 22.4733 8.95842 22.1653 8.79099 21.7333C8.66393 21.4074 8.51369 20.9171 8.47258 20.0149C8.42773 19.0395 8.41876 18.7465 8.41876 16.2755C8.41876 13.8044 8.42848 13.5122 8.47258 12.536C8.51369 11.6339 8.66467 11.1443 8.79099 10.8177C8.95916 10.3856 9.15948 10.0777 9.48312 9.75331C9.80676 9.42967 10.1147 9.2286 10.5475 9.06118C10.8734 8.93411 11.3637 8.78388 12.2658 8.74277C13.2413 8.69792 13.5343 8.68895 16.0046 8.68895C18.4756 8.68895 18.7678 8.69867 19.744 8.74277C20.6462 8.78388 21.1357 8.93486 21.4624 9.06118C21.8944 9.2286 22.2023 9.42967 22.5267 9.75331C22.8504 10.077 23.0507 10.3856 23.2189 10.8177C23.3459 11.1436 23.4962 11.6339 23.5373 12.536C23.5821 13.5122 23.5911 13.8044 23.5911 16.2755C23.5911 18.7458 23.5821 19.0388 23.5373 20.0149C23.4962 20.9171 23.3452 21.4074 23.2189 21.7333C23.0507 22.1653 22.8504 22.4733 22.5267 22.7969C22.2031 23.1206 21.8944 23.3209 21.4624 23.4891C21.1365 23.6161 20.6462 23.7664 19.744 23.8075C18.7686 23.8523 18.4756 23.8613 16.0046 23.8613C13.5343 23.8613 13.2413 23.8523 12.2658 23.8075ZM12.1896 7.07821C11.2045 7.12306 10.5318 7.27928 9.94355 7.50799C9.33513 7.74418 8.81939 8.0611 8.30441 8.57534C7.79017 9.08958 7.47325 9.60532 7.23706 10.2145C7.00834 10.8027 6.85213 11.4754 6.80728 12.4605C6.76168 13.4472 6.75122 13.7626 6.75122 16.2755C6.75122 18.7884 6.76168 19.1038 6.80728 20.0904C6.85213 21.0756 7.00834 21.7483 7.23706 22.3365C7.47325 22.9449 7.78942 23.4614 8.30441 23.9756C8.81865 24.4899 9.33438 24.806 9.94355 25.043C10.5325 25.2717 11.2045 25.4279 12.1896 25.4728C13.177 25.5176 13.4917 25.5288 16.0046 25.5288C18.5182 25.5288 18.8329 25.5184 19.8195 25.4728C20.8046 25.4279 21.4773 25.2717 22.0656 25.043C22.674 24.806 23.1897 24.4899 23.7047 23.9756C24.2189 23.4614 24.5351 22.9449 24.772 22.3365C25.0008 21.7483 25.1577 21.0756 25.2018 20.0904C25.2467 19.1031 25.2571 18.7884 25.2571 16.2755C25.2571 13.7626 25.2467 13.4472 25.2018 12.4605C25.157 11.4754 25.0008 10.8027 24.772 10.2145C24.5351 9.60606 24.2189 9.09033 23.7047 8.57534C23.1905 8.0611 22.674 7.74418 22.0663 7.50799C21.4773 7.27928 20.8046 7.12231 19.8202 7.07821C18.8336 7.03337 18.5182 7.02216 16.0053 7.02216C13.4917 7.02216 13.177 7.03262 12.1896 7.07821Z" fill="white" />
                                    </g>
                                </g>
                                <defs>
                                    <clipPath id="clip0_625_10366">
                                        <rect width="32" height="32" fill="white" />
                                    </clipPath>
                                    <clipPath id="clip1_625_10366">
                                        <rect width="18.5067" height="18.5067" fill="white" transform="translate(6.75122 7.02344)" />
                                    </clipPath>
                                </defs>
                            </svg>
                        </Link>
                    </div>

                    <div
                        x-data="{ isActive: false }"
                        className="items-center md:ps-8 relative"
                    >
                        {/* popup language */}
                        <div className="inline-flex items-center overflow-hidden rounded-md  bg-white">
                            <button
                                onClick={handleClickLang}
                                className="text-sm md:text-base text-black bg-secondColor hover:bg-gray-50 hover:text-gray-700 flex justify-center items-center py-1 px-1"
                            >
                                {language === "en" ? <Image
                                    src="/images/uk.png"
                                    // src="/images/us.svg"
                                    alt="EN flag"
                                    width={32}
                                    height={32}
                                    className="rounded-l md:mx-2"
                                /> : <Image
                                    src="https://api.eduxa.com/upload/ar.png"
                                    alt="AR flag"
                                    width={32}
                                    height={32}
                                    className="rounded-full md:mx-2"
                                />}
                                {language === "en" ? "English" : "Arabic"}

                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    className="h-4 w-4"
                                    viewBox="0 0 20 20"
                                    fill="currentColor"
                                >
                                    <path
                                        fillRule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clipRule="evenodd"
                                    />
                                </svg>
                            </button>
                        </div>

                        <div
                            className="absolute start-0 md:start-10 mt-2 w-24 rounded-md border-gray-100 bg-white shadow-lg z-50"
                            role="menu"
                            x-show="isActive"
                        >
                            {showLanguage ? (
                                <div className="p-2 ">
                                    <div className="flex justify-start items-center">
                                        <Link
                                            href={`/ar/${window.location.pathname.slice(4)}`}
                                            className="rounded-lg px-1 pe-2 py-2 text-sm text-gray-500 hover:bg-gray hover:text-gray-700 flex items-center"
                                        >
                                            <Image
                                                src="https://api.eduxa.com/upload/ar.png"
                                                alt="AR flag"
                                                width={32}
                                                height={32}
                                                className="rounded-full mx-2"
                                            />
                                            AR
                                        </Link>
                                    </div>
                                    <div className="flex justify-start items-center">
                                        <Link
                                            href={`/en/${window.location.pathname.slice(4)}`}
                                            className="  rounded-lg px-1 pe-2 py-2 text-sm text-gray-500 hover:bg-gray hover:text-gray-700 flex items-center"
                                        >
                                            <Image
                                                src="/images/uk.png"
                                                alt="EN flag"
                                                width={32}
                                                height={32}
                                                className="rounded-full mx-2"
                                            />
                                            EN
                                        </Link>
                                    </div>
                                </div>
                            ) : (
                                ""
                            )}
                        </div>
                    </div>

                </div>
            </nav>
            <Countdown />
        </>
    )
}
